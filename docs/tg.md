# ü§ñ Telegram-–±–æ—Ç —Å–∏—Å—Ç–µ–º—ã –∑–∞–ø–∏—Å–∏ ‚Äî —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è

## 1. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –±–æ—Ç–∞

Telegram-–±–æ—Ç ‚Äî **–µ–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –¥–æ—Å—Ç—É–ø–∞** –∫ —Å–∏—Å—Ç–µ–º–µ –∑–∞–ø–∏—Å–∏ –≤ Telegram.

–ë–æ—Ç:
- **–Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏**
- **–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —Å –ë–î**
- —Ä–∞–±–æ—Ç–∞–µ—Ç **–∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ —á–µ—Ä–µ–∑ FastAPI**
- –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç **–æ–¥–Ω—É –∫–æ–º–ø–∞–Ω–∏—é**
- –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ —Ä–æ–ª—è–º

---

## 2. –ë–∞–∑–æ–≤—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- **–û–¥–∏–Ω –±–æ—Ç ‚Üí –æ–¥–Ω–∞ –∫–æ–º–ø–∞–Ω–∏—è**
- `company_id`:
  - –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –±–æ—Ç—É –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (env / config) –∏–ª–∏ id –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –µ–¥–∏–Ω–æ–∂–¥—ã –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–º–ø–∞–Ω–∏–∏. –ü–æ—Å–ª–µ–¥—É—é—â–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤ —Ä—É—á–Ω—É—é.
  - –Ω–µ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –∏ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ê–¥–º–∏–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç **—Ç–æ–ª—å–∫–æ –≤ —ç—Ç–æ–º –±–æ—Ç–µ**
- Redis –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ backend‚Äô–æ–º**
- –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç—Ä–æ–≥–æ –ø–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É `API.md`

---

## 3. –†–æ–ª–∏ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### 3.1 Admin

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**
- –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤
- —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞–º–∏
- —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤—è–∑—è–º–∏
- —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏
- —Å–ª—É–∂–µ–±–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**
- –ø–æ `tg_id`
- `tg_id` –≤–Ω–æ—Å–∏—Ç—Å—è –≤—Ä—É—á–Ω—É—é (init-—Å–∫—Ä–∏–ø—Ç)
- —Å–º–µ–Ω–∞ `tg_id` —á–µ—Ä–µ–∑ API –∑–∞–ø—Ä–µ—â–µ–Ω–∞

**–§—É–Ω–∫—Ü–∏–∏**
- locations / rooms / services / service_packages
- specialists (–ø—Ä–æ—Ñ–∏–ª—å, –≥—Ä–∞—Ñ–∏–∫)
- specialist ‚Üî services (domain API)
- calendar_overrides
- –∫–æ—à–µ–ª—ë–∫ –∫–ª–∏–µ–Ω—Ç–∞ ‚Äî **—Ç–æ–ª—å–∫–æ domain wallet API**
- –ø—Ä–æ—Å–º–æ—Ç—Ä / —Å–ª—É–∂–µ–±–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π

---

### 3.2 Specialist

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**
- —á—Ç–µ–Ω–∏–µ —Å–≤–æ–∏—Ö –∑–∞–ø–∏—Å–µ–π

**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**
- —Ç–æ–ª—å–∫–æ –ø–æ `tg_id`
- –∂—ë—Å—Ç–∫–∞—è —Å–≤—è–∑—å `tg_id ‚Üí users.id`
- —Å–º–µ–Ω–∞ `tg_id` –∑–∞–ø—Ä–µ—â–µ–Ω–∞

**–§—É–Ω–∫—Ü–∏–∏ (v1)**
- –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö booking
- –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

---

### 3.3 Client

**–°—Ç–∞—Ç—É—Å**
- —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π (–¥–æ—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–∑–∂–µ)

**–í—Ö–æ–¥—ã**
- Web: –∏–º—è + —Ç–µ–ª–µ—Ñ–æ–Ω
- Telegram / Mini App: `tg_id`

**–ë—É–¥—É—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏**
- –∑–∞–ø–∏—Å—å
- –ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–ø–∏—Å–µ–π
- –æ—Ç–º–µ–Ω–∞

---

## 4. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø—Ä–∏ –≤—Ö–æ–¥–µ

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç –±–æ—Ç—É
2. –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç `tg_id`
3. API:
   - –∏—â–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ `tg_id`
4. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω:
   - —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ä–æ–ª—å—é `client`
5. –†–æ–ª—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `user_roles`
6. –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–π:
   - admin / specialist / client

---

## 5. –†–∞–±–æ—Ç–∞ —Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏

### –ü—Ä–∏–Ω—Ü–∏–ø
- **–û—Ç–∫—Ä—ã—Ç–∞—è –∑–∞–ø–∏—Å—å**
- –ë–æ—Ç **–Ω–µ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Å–ª–æ—Ç—ã**
- –ë–æ—Ç **–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Redis**

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- `POST /bookings` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –≤–Ω—É—Ç—Ä–∏ backend:
  - Redis-lock
  - –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–ª–æ—Ç–æ–≤
- –±–µ–∑ Redis —Å–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ

–ë–æ—Ç:
- –≤—ã–∑—ã–≤–∞–µ—Ç API
- –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- –Ω–µ –∑–Ω–∞–µ—Ç –æ –º–µ—Ö–∞–Ω–∏–∫–µ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫

---

## 6. –°–≤—è–∑—å Specialist ‚Üî Services

- –¢–∏–ø —Å–≤—è–∑–∏: **M:N**
- –¢–∞–±–ª–∏—Ü–∞: `specialist_services`
- –û—Ç–¥–µ–ª—å–Ω–æ–≥–æ CRUD-—Ä–µ—Å—É—Ä—Å–∞ **–Ω–µ—Ç**
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–æ–º–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã:

```
GET /specialists/{id}/services
POST /specialists/{id}/services
PATCH /specialists/{id}/services/{service_id}
DELETE /specialists/{id}/services/{service_id}
```


- Soft-delete —á–µ—Ä–µ–∑ `is_active`

---

## 7. –§–∏–Ω–∞–Ω—Å—ã (–∫–æ—à–µ–ª—ë–∫)

- CRUD –∫–æ—à–µ–ª—å–∫–∞ –∑–∞–ø—Ä–µ—â—ë–Ω
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ **—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ domain API**:

```
GET /wallets/{user_id}
GET /wallets/{user_id}/transactions
POST /wallets/{user_id}/deposit
POST /wallets/{user_id}/withdraw
POST /wallets/{user_id}/payment
POST /wallets/{user_id}/refund
POST /wallets/{user_id}/correction
```

–ë–æ—Ç:
- –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç –±–∞–ª–∞–Ω—Å –Ω–∞–ø—Ä—è–º—É—é
- –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å `wallet_transactions`

---

## 8. –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –ø–µ—Ä–µ—Å—á—ë—Ç —Å–ª–æ—Ç–æ–≤

- –ü–æ—Å–ª–µ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤:
  - backend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—á–∏—Ç–∞–µ—Ç —Å–ª–æ—Ç—ã –Ω–∞ **60 –¥–Ω–µ–π**
- –ß–µ—Ä–µ–∑ –±–æ—Ç–∞:
  - **—Ç–æ–ª—å–∫–æ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏** (overrides)
- –õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ:
  - —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç –ø–µ—Ä–µ—Å—á—ë—Ç –Ω–∞ backend
- Redis ‚Äî runtime —Å–ª–æ–π, –±–æ—Ç –µ–≥–æ –Ω–µ —Ç—Ä–æ–≥–∞–µ—Ç

---

## 9. –ü—Ä–∏–Ω—Ü–∏–ø–∏–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–µ—Ç—ã

–ë–æ—Ç **–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ**:
- –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –ë–î –Ω–∞–ø—Ä—è–º—É—é
- —Å—á–∏—Ç–∞–µ—Ç —Å–ª–æ—Ç—ã
- –º–µ–Ω—è–µ—Ç –±–∞–ª–∞–Ω—Å —á–µ—Ä–µ–∑ CRUD
- –º–µ–Ω—è–µ—Ç `tg_id`
- –æ–±—Ö–æ–¥–∏—Ç API.md

---

## 10. –ò—Ç–æ–≥

Telegram-–±–æ—Ç:
- UI + –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è + –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- —Å—Ç—Ä–æ–≥–∏–π –∫–ª–∏–µ–Ω—Ç FastAPI
- –æ–¥–Ω–∞ –∫–æ–º–ø–∞–Ω–∏—è
- —Ç—Ä–∏ —Ä–æ–ª–∏
- –Ω—É–ª–µ–≤–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

–ö–æ–Ω—Ü–µ–ø—Ü–∏—è **–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ –∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∞**.

